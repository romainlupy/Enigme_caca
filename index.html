<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Entrée du Code</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0a0a0a;
      color: #f5f5f5;
      text-align: center;
      margin-top: 120px;
    }

    h1 {
      color: #00bcd4;
      margin-bottom: 30px;
    }

    input {
      padding: 10px;
      font-size: 18px;
      border: 2px solid #00bcd4;
      border-radius: 6px;
      background: #111;
      color: white;
      text-align: center;
    }

    button {
      padding: 10px 18px;
      font-size: 18px;
      border: none;
      border-radius: 6px;
      margin-left: 10px;
      cursor: pointer;
      background-color: #00bcd4;
      color: #111;
      transition: all 0.2s ease;
    }

    button:hover {
      background-color: #0097a7;
    }

    #message {
      margin-top: 25px;
      font-size: 20px;
      color: #ff5555;
      min-height: 40px;
    }

    /* Petit effet tremblement pour les erreurs */
    .shake {
      animation: shake 0.3s;
    }

    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
  </style>
</head>
<body>

  <h1>Entre le code secret</h1>
  <input type="text" id="codeInput" placeholder="Code à 4 chiffres">
  <button onclick="verifierCode()">Valider</button>

  <div id="message"></div>

  <script>
    const codeCorrect = "1234"; // 🔐 ton code ici

    const messagesErreur = [
      "T’es mauvais !",
      "Alors tu galères ?",
      "Tu me déçois...",
      "Essaie encore, petit génie.",
      "Pas aujourd’hui, Sherlock.",
      "Raté ! Essaie un autre code.",
      "On a vu mieux !",
      "Non, non, et non !",
      "Tu croyais vraiment que c’était ça ?",
      "Faut réfléchir un peu plus !",
      "Même ma grand-mère ferait mieux.",
      "Gamin, t’es à côté de la plaque.",
      "J'espère que tu vas abandonner bientôt.",
      "Allllloooooo ?",
      "On se fait chier là.",
      "Tu as pensé à redémarrer ton cerveau ?",
      "Alors gros bébé, on trouve pas ?",
      "Chaque essai raté me procure une joie immense.",
      "Le but est de trouver le code, pas de spammer.",
      "Trop chaud ? Non. Trop nul ? Peut-être.",
      "Encore raté… ça devient gênant.",
      "Essaie au hasard, ça marchera peut-être (ou pas).",
      "Le code pleure de désespoir.",
      "Tu veux un indice ? Dommage, y’en a pas.",
      "Le clavier te juge sévèrement.",
      "T’as presque réussi… enfin non.",
      "Continue, la persévérance c’est mignon.",
      "Un jour peut-être… mais pas aujourd’hui.",
      "Ouille. C’était pas glorieux celui-là."
    ];

    // 🧮 Charger le nombre d’essais depuis le stockage local
    let tentatives = localStorage.getItem("tentatives") 
      ? parseInt(localStorage.getItem("tentatives")) 
      : 0;

    function verifierCode() {
      const saisie = document.getElementById("codeInput").value.trim();
      const messageDiv = document.getElementById("message");

      if (saisie === codeCorrect) {
        messageDiv.style.color = "#00ff00";
        messageDiv.textContent = `✅ Bien joué, le code est correct ! (${tentatives} essais)`;
        // Réinitialiser le compteur à la réussite
        localStorage.removeItem("tentatives");
      } else {
        tentatives++;
        localStorage.setItem("tentatives", tentatives); // 🔐 sauvegarde permanente
        const phrase = messagesErreur[Math.floor(Math.random() * messagesErreur.length)];
        messageDiv.style.color = "#ff5555";
        messageDiv.textContent = `${phrase} (Essai n°${tentatives})`;

        // petit effet de tremblement visuel
        messageDiv.classList.remove("shake");
        void messageDiv.offsetWidth; // reset animation
        messageDiv.classList.add("shake");
      }
    }
  </script>

</body>
</html>
